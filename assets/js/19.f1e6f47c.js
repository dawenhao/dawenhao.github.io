(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{503:function(t,a,s){"use strict";s.r(a);var i=s(4),m=Object(i.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"为什么学习变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么学习变换"}},[t._v("#")]),t._v(" 为什么学习变换")]),t._v(" "),s("p",[t._v("变换描述物体的运动、旋转、缩放，这是变换的重大应用。光栅化、动画等都大量应用了变换。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan1.png",alt:"pic1",title:"为什么学习变换"}})]),t._v(" "),s("h2",{attrs:{id:"_2d模型变换-model"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2d模型变换-model"}},[t._v("#")]),t._v(" 2D模型变换 (Model)")]),t._v(" "),s("p",[t._v("包括2D平移、旋转、缩放变换。")]),t._v(" "),s("h3",{attrs:{id:"_2d缩放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2d缩放"}},[t._v("#")]),t._v(" 2D缩放")]),t._v(" "),s("p",[t._v("  如果我们认为一开始任何一个点的坐标是"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"y"}})],1)],1)],1)],1),t._v("，然后经过一个缩放操作(缩放"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"s"}})],1)],1)],1)],1),t._v("倍)变成了"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1),s("mjx-mi",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"2032"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"y"}})],1),s("mjx-mi",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"2032"}})],1)],1)],1)],1),t._v("，那么"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1),s("mjx-mi",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"2032"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"y"}})],1),s("mjx-mi",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"2032"}})],1)],1)],1)],1),t._v(" 分别等于"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"s"}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"s"}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"y"}})],1)],1)],1)],1)],1),t._v(" "),s("p",[t._v("  缩放的矩阵形式。这里就管这个对角阵叫缩放矩阵。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan3.png",alt:"pic3",title:"2D缩放"}})]),t._v(" "),s("h3",{attrs:{id:"镜像操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#镜像操作"}},[t._v("#")]),t._v(" 镜像操作")]),t._v(" "),s("p",[t._v("  下图相对y轴做了翻转，"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1)],1)],1)],1),t._v("乘上-1，便得到了镜像结果。如果绕"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1)],1)],1)],1),t._v("轴做反转，那么结果应该是"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"y"}})],1)],1)],1)],1),t._v("乘上-1。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan5.png",alt:"pic5",title:"镜像"}})],1),t._v(" "),s("h3",{attrs:{id:"切变变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切变变换"}},[t._v("#")]),t._v(" 切变变换")]),t._v(" "),s("p",[t._v("  这里就好像这个图像是可以变形的，捏着右上角往右边拉形成了结果图像。我们可以分析坐标经过变换之后的关系来写出一个矩阵。具体分析看GAMES101 P3 11:42。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan6.png",alt:"pic6",title:"切变"}})]),t._v(" "),s("h3",{attrs:{id:"_2d旋转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2d旋转"}},[t._v("#")]),t._v(" 2D旋转")]),t._v(" "),s("p",[t._v("  任何时候我们说旋转，我们就认为它是绕着原点(0,0)，逆时针进行旋转。具体分析看GAMES101 P3 16:15。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan7.png",alt:"pic7",title:"2D旋转"}})]),t._v(" "),s("h3",{attrs:{id:"线性变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#线性变换"}},[t._v("#")]),t._v(" 线性变换")]),t._v(" "),s("p",[t._v("  我们可以把变换写成用一个矩阵乘以一个输入的坐标，得到一个输出的坐标，这种变换叫做线性变换。比如缩放、旋转都是线性变换。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan8.png",alt:"pic8",title:"线性变换"}})]),t._v(" "),s("h2",{attrs:{id:"齐次坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#齐次坐标"}},[t._v("#")]),t._v(" 齐次坐标")]),t._v(" "),s("h3",{attrs:{id:"平移变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#平移变换"}},[t._v("#")]),t._v(" 平移变换")]),t._v(" "),s("p",[t._v("  把坐标在"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"y"}})],1)],1)],1)],1),t._v("方向的坐标都进行平移。但是平移变换无法用一个2x2的矩阵完成变换，平移操作并不属于线性变换，而是一个特殊的变换。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan9.png",alt:"pic9",title:"平移"}})],1),t._v(" "),s("h3",{attrs:{id:"为什么要用齐次坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用齐次坐标"}},[t._v("#")]),t._v(" 为什么要用齐次坐标")]),t._v(" "),s("p",[t._v("  由上述可知，平移变换比较特殊，但是我们不希望把平移变换当作一个特殊的变换。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan10.png",alt:"pic10",title:"齐次坐标"}})]),t._v(" "),s("p",[t._v("  我们可以引入一个新的形式，我们可以把二维的点或者向量增加一个维度。对于点来说增加维度后是"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"("}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"y"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mn",{staticClass:"mjx-n",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"1"}})],1),s("mjx-msup",[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:")"}})],1),s("mjx-script",{staticStyle:{"vertical-align":"0.363em"}},[s("mjx-mi",{staticClass:"mjx-i",attrs:{size:"s"}},[s("mjx-c",{attrs:{c:"T"}})],1)],1)],1)],1)],1)],1),t._v(",而向量是"),s("font",{attrs:{size:"5"}},[s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"("}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"x"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"y"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mn",{staticClass:"mjx-n",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"0"}})],1),s("mjx-msup",[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:")"}})],1),s("mjx-script",{staticStyle:{"vertical-align":"0.363em"}},[s("mjx-mi",{staticClass:"mjx-i",attrs:{size:"s"}},[s("mjx-c",{attrs:{c:"T"}})],1)],1)],1)],1)],1)],1),t._v("。因为向量具有平移不变性，所有向量的第三个值是0。"),s("br"),t._v("\n  这样我们的平移操作就可以通过一个矩阵乘以坐标的形式来完成了。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan11.png",alt:"pic11",title:"齐次坐标2"}})],1),t._v(" "),s("p",[t._v("  齐次坐标下点和向量最后一个值是1还是0是有意义的。例如两个点相减，相减后第三个值变成了0，符合点减去点得到一个向量的结果。"),s("br"),t._v("\n  齐次坐标下一个点加上一个点表示的是这两个点的中点，因为第三个值相加后得到了2，但是实际的点的值需要除以第三个值，每个值等于两个坐标相加再除以2，可不就是两个点的中点。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan12.png",alt:"pic12",title:"齐次左边3"}})]),t._v(" "),s("h3",{attrs:{id:"仿射变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#仿射变换"}},[t._v("#")]),t._v(" 仿射变换")]),t._v(" "),s("p",[t._v("  仿射变换就是线性变换加平移变换。用齐次坐标表示一个仿射变换时，它的最后一行永远都是(0, 0, 1)，这里必须说明是在二维下才是(0, 0, 1)。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan13.png",alt:"pic13",title:"仿射变换"}})]),t._v(" "),s("p",[t._v("  齐次坐标下的仿射变换。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan14.png",alt:"pic14",title:"仿射变换2"}})]),t._v(" "),s("h3",{attrs:{id:"逆变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#逆变换"}},[t._v("#")]),t._v(" 逆变换")]),t._v(" "),s("p",[t._v("  把一个变换的操作反过来，就是它的逆变换。在数学上就是乘以这个变换的逆矩阵。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan15.png",alt:"pic15",title:"逆变换"}})]),t._v(" "),s("h3",{attrs:{id:"变换的组合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变换的组合"}},[t._v("#")]),t._v(" 变换的组合")]),t._v(" "),s("p",[t._v("  1. 复杂的变换，可以通过一系列的简单的变换得到它。"),s("br"),t._v("\n  2. 变换的顺序是非常重要的。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan16.png",alt:"pic16",title:"变换的组合"}})]),t._v(" "),s("p",[t._v("  矩阵与向量相乘都是从右往左乘。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan17.png",alt:"pic17",title:"变换的组合2"}})]),t._v(" "),s("h2",{attrs:{id:"_3d模型变换-model"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3d模型变换-model"}},[t._v("#")]),t._v(" 3D模型变换 (Model)")]),t._v(" "),s("p",[t._v("3维空间中也有平移，旋转和缩放，但是3维空间中的需要用4个点来描述变换。"),s("br"),t._v("\n  3维空间中用齐次坐标实现变化。先线性变换，后平移，顺序不要搞错！。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan18.png",alt:"pic18",title:"三维变换"}})]),t._v(" "),s("h3",{attrs:{id:"_3d旋转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3d旋转"}},[t._v("#")]),t._v(" 3D旋转")]),t._v(" "),s("p",[t._v("  三维空间下的旋转矩阵如下，具体分析看GAMES101 P4 9：14\n  绕"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"Y"}})],1)],1)],1),t._v("轴旋转的结果之所以是反的，原因是"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"X"}})],1)],1)],1),t._v("叉乘"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"Z"}})],1)],1)],1),t._v("并不得到"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"Y"}})],1)],1)],1),t._v("，而是正好相反，是由"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"Z"}})],1)],1)],1),t._v("叉乘"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"X"}})],1)],1)],1),t._v("所得到的。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan19.png",alt:"pic19",title:"3D旋转"}})],1),t._v(" "),s("p",[t._v("  任意一个旋转都可以分解成绕"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"X"}})],1),s("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[s("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("、")])],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[s("mjx-c",{attrs:{c:"Y"}})],1),s("mjx-mo",{staticClass:"mjx-n",attrs:{space:"4"}},[s("mjx-utext",{staticStyle:{"font-family":"serif"},attrs:{variant:"normal"}},[t._v("、")])],1),s("mjx-mi",{staticClass:"mjx-i",attrs:{space:"4"}},[s("mjx-c",{attrs:{c:"Z"}})],1)],1)],1),t._v("旋转的组合。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan20.png",alt:"pic20",title:"3D旋转2"}})],1),t._v(" "),s("h2",{attrs:{id:"视图变换-view"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视图变换-view"}},[t._v("#")]),t._v(" 视图变换 (View)")]),t._v(" "),s("h3",{attrs:{id:"什么是视图变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是视图变换"}},[t._v("#")]),t._v(" 什么是视图变换")]),t._v(" "),s("p",[t._v("  当我们想要拍照时，大概需要下面3个步骤。")]),t._v(" "),s("ol",[s("li",[t._v("找到一个好的位置摆Pos(model transformation)")]),t._v(" "),s("li",[t._v("为摄像机找到一个好的角度(view transformation)")]),t._v(" "),s("li",[t._v("茄子(projection transformation)\n  视图变换改变的是相机的变换，不仅是位置还有角度。")])]),t._v(" "),s("h3",{attrs:{id:"怎么做视图变换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#怎么做视图变换"}},[t._v("#")]),t._v(" 怎么做视图变换")]),t._v(" "),s("p",[t._v("  首先要定义一个相机。")]),t._v(" "),s("ul",[s("li",[t._v("定义一个相机的位置(position)"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.056em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.017em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"e"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("li",[t._v("往哪看(lookat/gaze direction)"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.028em","margin-bottom":"-0.531em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"^"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.012em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"g"}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("li",[t._v("相机的上方向是哪(up direction)"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.083em","margin-bottom":"-0.531em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"^"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.07em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"t"}})],1)],1)],1)],1)],1)],1)],1)]),t._v(" "),s("p",[t._v("  我们认为相机永远不动都是其它物体在移动，相机永远放在原点，相机永远在往负"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"Z"}})],1)],1)],1),t._v("方向看，相机向上方向永远是"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"Y"}})],1)],1)],1),t._v("方向。")],1),t._v(" "),s("ol",[s("li",[t._v("把相机的中心从"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.056em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.017em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"e"}})],1)],1)],1)],1)],1)],1),t._v("移动到0")],1),t._v(" "),s("li",[t._v("旋转g到-Z")]),t._v(" "),s("li",[t._v("旋转t到Y")]),t._v(" "),s("li",[t._v("(g x t)到X")])]),t._v(" "),s("p",[t._v("  对于上述的操作，写成矩阵的形式。原始的旋转不好求，所以这里先求逆变换也就是从-Z到g,Y到t,x到(g x t)。因为旋转矩阵是正交矩阵，所以这里求旋转矩阵的逆可以直接求它的转置。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan21.png",alt:"pic21",title:"视图变换"}})]),t._v(" "),s("h2",{attrs:{id:"投影变换-projection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#投影变换-projection"}},[t._v("#")]),t._v(" 投影变换 (Projection)")]),t._v(" "),s("p",[t._v("投影变换包括正交投影和透视投影，人眼更符合透视投影，会有近大远小的性质，而正交投影不会有近大远小的情况。"),s("br"),t._v("\n  透视投影：我们认为摄像机在一个点，从这个点出发连出空间中的一个锥。"),s("br"),t._v("\n  正交投影：假设我们的相机离的无限远，近平面和远平面一样大。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan22.png",alt:"pic22",title:"投影变换"}})]),t._v(" "),s("h3",{attrs:{id:"正交投影"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#正交投影"}},[t._v("#")]),t._v(" 正交投影")]),t._v(" "),s("p",[t._v("  我们在空间中定义一个立方体，我们需要定义立方体的左右在X轴上都是多少，下上在Y轴上都是多少，远近在Z轴上都是多少（[l,r] x [b,t] x [f,n]左边值小，右边值大）。我们把这样的一个形状映射到一个标准正方体内。"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"["}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"2212"}})],1),s("mjx-mn",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"1"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mn",{staticClass:"mjx-n",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"1"}})],1),s("mjx-msup",[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"]"}})],1),s("mjx-script",{staticStyle:{"vertical-align":"0.363em"}},[s("mjx-mn",{staticClass:"mjx-n",attrs:{size:"s"}},[s("mjx-c",{attrs:{c:"3"}})],1)],1)],1)],1)],1),t._v(" "),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan23.png",alt:"pic23",title:"正交投影"}})],1),t._v(" "),s("p",[t._v("  把上述的变换，写成数学的形式。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan24.png",alt:"pic24",title:"正交投影2"}})]),t._v(" "),s("h3",{attrs:{id:"透视投影"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#透视投影"}},[t._v("#")]),t._v(" 透视投影")]),t._v(" "),s("p",[t._v("  定义一个视锥体(frustum)，它的近平面要小于远平面。假设我们可以把远平面的四个点往中间挤，挤成与近平面同样的大小，然后做一次正交投影。"),s("br"),t._v("\n  在挤的过程中：")]),t._v(" "),s("ul",[s("li",[t._v("近平面永远不变。")]),t._v(" "),s("li",[t._v("远平面Z不会发生变换。")]),t._v(" "),s("li",[t._v("远平面中心点不会发生变换。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan25.png",alt:"pic25",title:"透视投影"}})])]),t._v(" "),s("p",[t._v("  从视锥体的侧边看，这里是一个相似三角形，所以新点如下图所示。同时对于视锥体内部的点也都满足这么一个规律。\n"),s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan26.png",alt:"pic26",title:"透视投影2"}}),t._v("\n  “挤压”过程的矩阵如下，得到结果后乘上正交投影的矩阵即可。 具体推导看GAMES101 P4 64：50\n"),s("center",[s("img",{attrs:{src:"/pic/games101/bianhuan/bianhuan27.png",alt:"pic27",title:"透视投影3"}})])],1)])}),[],!1,null,null,null);a.default=m.exports}}]);