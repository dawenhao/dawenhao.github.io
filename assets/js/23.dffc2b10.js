(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{509:function(a,t,s){"use strict";s.r(t);var p=s(4),r=Object(p.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"shaow-mapping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shaow-mapping"}},[a._v("#")]),a._v(" Shaow Mapping")]),a._v(" "),s("p",[a._v("Shddow Mapping是一种图像空间的算法。它有一个重要的思想，假如看到一个不在阴影里的点，那么就认为摄像机能够看到这个点，光源也可以看到这个点。经典的Shadow Mapping只能处理点光源，生成的阴影就是硬阴影。"),s("br"),a._v(" "),s("img",{attrs:{src:"/pic/games101/shadow/sd1.png",alt:"pic1",title:"几何的分类"}})]),a._v(" "),s("h3",{attrs:{id:"点光源下如何生成阴影"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#点光源下如何生成阴影"}},[a._v("#")]),a._v(" 点光源下如何生成阴影")]),a._v(" "),s("p",[a._v("  Shddow Mapping做了两步操作")]),a._v(" "),s("ol",[s("li",[a._v("先从光源看向场景，不做着色，只记录任何点看到的深度。")]),a._v(" "),s("li",[a._v("从相机处看场景，渲染出的点重新投影回光源，与之前记录的深度做比较。"),s("br"),a._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd2.png"}}),a._v("Shaow Mapping")])],1),a._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd3.png"}}),a._v("Shaow Mapping")])],1)]),a._v(" "),s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd4.png"}}),a._v("Shaow Mapping")])],1)])])])]),a._v(" "),s("h3",{attrs:{id:"实际操作shadow-mapping"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实际操作shadow-mapping"}},[a._v("#")]),a._v(" 实际操作Shadow Mapping")]),a._v(" "),s("p",[a._v("  下图表示了Shadow Mapping的过程")]),a._v(" "),s("ol",[s("li",[a._v("从光源看过去（如图三），但是实际不记录颜色只记录深度（z-buffer，如图四）。")]),a._v(" "),s("li",[a._v("实际从真正的相机看向场景，每个像素对应的实际位置都投影回光源的位置，就可以在shadow map上找到对应的深度，就可以对比shadow map上记录的深度和实际这个点与光源的深度。如果深度不一致说明这个像素在阴影里。"),s("br"),a._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd5.png"}}),a._v("Shaow Mapping，一")])],1),a._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd6.png"}}),a._v("Shaow Mapping，二")])],1)]),a._v(" "),s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd7.png"}}),a._v("Shaow Mapping，三")])],1),a._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd8.png"}}),a._v("Shaow Mapping，四")])],1)]),a._v(" "),s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd9.png"}}),a._v("Shaow Mapping，五")])],1),a._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/shadow/sd10.png"}}),a._v("Shaow Mapping，六")])],1)])])])]),a._v(" "),s("h3",{attrs:{id:"shadow-mapping中的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shadow-mapping中的问题"}},[a._v("#")]),a._v(" Shadow Mapping中的问题")]),a._v(" "),s("ul",[s("li",[a._v("只能做硬阴影")]),a._v(" "),s("li",[a._v("阴影的质量依赖于Shdow Map的分辨率，分辨率低的话会发生走样，产生锯齿")]),a._v(" "),s("li",[a._v("浮点精度也会造成问题"),s("br"),a._v(" "),s("img",{attrs:{src:"/pic/games101/shadow/sd12.png",alt:"pic12",title:"Shadow Mapping的问题"}})])]),a._v(" "),s("h3",{attrs:{id:"硬阴影与软阴影"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#硬阴影与软阴影"}},[a._v("#")]),a._v(" 硬阴影与软阴影")]),a._v(" "),s("p",[a._v("  软阴影其实是一种自然现象，物理上称作半影(Penumbra)，物理上对阴影做了两种区分，如果在一个地方完全看不到光源，这个地方叫做本影(Umbra)，可以部分看到阴影就是半影。"),s("br"),a._v(" "),s("img",{attrs:{src:"/pic/games101/shadow/sd13.png",alt:"pic13",title:"硬阴影与软阴影"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);