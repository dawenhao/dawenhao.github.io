(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{504:function(t,a,s){"use strict";s.r(a);var m=s(4),i=Object(m.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"着色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#着色"}},[t._v("#")]),t._v(" 着色")]),t._v(" "),s("p",[t._v("本课程中着色是对不同的物体应用不同材质的过程。")]),t._v(" "),s("h2",{attrs:{id:"blinn-phong着色模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blinn-phong着色模型"}},[t._v("#")]),t._v(" Blinn-Phong着色模型")]),t._v(" "),s("p",[t._v("Blinn-Phong是一种经验模型，所谓反射模型，就是光线如何与材质作用，如何去反射。通过观察下面的茶杯看光线是如何反射的。")]),t._v(" "),s("ul",[s("li",[t._v("高光，颜色变化比较剧烈的，比如有一个表面特别光滑，反射就会像镜面反射一样")]),t._v(" "),s("li",[t._v("漫反射，颜色变化不是特别剧烈的")]),t._v(" "),s("li",[t._v("环境光，接收不到光的一个点，被间接光照照亮\n"),s("img",{attrs:{src:"/pic/games101/zhuose/zs1.png",alt:"pic1",title:"杯子"}})])]),t._v(" "),s("h3",{attrs:{id:"局部着色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#局部着色"}},[t._v("#")]),t._v(" 局部着色")]),t._v(" "),s("p",[t._v("  在物体的一个局部的极小的范围内永远是一个平面，在平面任何一个点(shading point)上有：")]),t._v(" "),s("ul",[s("li",[t._v("观测方向(Viewer direction, v)")]),t._v(" "),s("li",[t._v("表面法线方向(Surface normal, n)")]),t._v(" "),s("li",[t._v("光照方向(Light direction, l) 是从shading point指向光源")]),t._v(" "),s("li",[t._v("表面参数(Surface parameters)"),s("br"),t._v("\n  以上三个向量都是单位向量，长度均为1。"),s("br"),t._v("\n  着色只考虑颜色，不考虑阴影。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs2.png",alt:"pic2",title:"shading point"}})])]),t._v(" "),s("h3",{attrs:{id:"漫反射-diffuse-reflection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#漫反射-diffuse-reflection"}},[t._v("#")]),t._v(" 漫反射(Diffuse Reflection)")]),t._v(" "),s("p",[t._v("  光线打到某个点上后，会被均匀的反射到各个方向去就是漫反射。漫反射跟观测方向没有关系。"),s("br"),t._v("\n  当物体表面(shading point)的朝向与光线有一定夹角，得到的明暗是不一样的。物体表面的法线与光线的夹角决定了这个物体被光照射下有多么亮。因为光是一种能量，那么物体表面能接收到多少能量跟物体表面周围的单位面积有关系。任何一个shading point周围的单位面积能接受到多少能量，就和法线与光线形成的角度有关系。"),s("br"),t._v("\n  兰伯特余弦定理：接受到的能量是与光照方向和法线方向的余弦是成正比的。"),s("br"),t._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs3.png"}}),t._v("漫反射")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs4.png"}}),t._v("兰伯特余弦定理")])],1)])])]),t._v(" "),s("h3",{attrs:{id:"光照衰减"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#光照衰减"}},[t._v("#")]),t._v(" 光照衰减")]),t._v(" "),s("p",[t._v("  光是一种能量，来自于一个点光源，在任何一个时刻，点光源辐射出来的能量（如果认为往四面八方的能量都是一样的）都在一个球壳上，在某一个时间能量在一个球壳上，在下一个时间它会在下一个球壳上。过了很长时间后，能量会在很远的一个球壳上，但是能量是守恒的，在真空环境中，能量传播是没有损失的，但是传播过程中时间越久，球壳越来越大，那么球壳上每一个点的能量就会越来越少。"),s("br"),t._v("\n  光线传播时间越长，单位面积接收到的能量就越少。假设知道一个点光源，又知道shading point离点光源有多远，在知道了有多少光传播到了shading ponit，又知道了有多少光会被shading point吸收，结合在一起就可以得到diffuse的表示方法了。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs5.png",alt:"pic5",title:"光照衰减"}})]),t._v(" "),s("h3",{attrs:{id:"漫反射的表示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#漫反射的表示"}},[t._v("#")]),t._v(" 漫反射的表示")]),t._v(" "),s("p",[t._v("  假设有一个点光源，这个点光源距离shading point有一定的距离，这个距离是"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"r"}})],1)],1)],1),t._v("，这么远的距离传播到shading point的能量就是"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"I"}})],1),s("mjx-TeXAtom",[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"/"}})],1)],1),s("mjx-msup",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"r"}})],1),s("mjx-script",{staticStyle:{"vertical-align":"0.363em"}},[s("mjx-mn",{staticClass:"mjx-n",attrs:{size:"s"}},[s("mjx-c",{attrs:{c:"2"}})],1)],1)],1)],1)],1),t._v("，而这些能量能被接收多少取决于法线与光照方向的夹角（兰伯特余弦定理），这样就可以算出关于漫反射能够看到多少能量。漫反射的明暗就可以计算出来了。")],1),t._v(" "),s("ol",[s("li",[t._v("当点乘得到负数的时候，没有物理意义，这时光是照不到的，所以用此时认为是0。")]),t._v(" "),s("li",[t._v("之所以显示颜色，是这个点吸收一部分能量，反射一部分不吸收的能量，不同的点有不同的吸收率，那么就会产生不同的颜色，特别是对不同的波长。这里使用一个系数"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"k"}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"d"}})],1)],1)],1),t._v("表示，如果系数是1，就说明所有能量都被反射了，会显示成白色，如果系数是0，就说明所有能量都被吸收了，显示黑色。这里"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"k"}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"d"}})],1)],1)],1),t._v("应该使用三通道的一个向量来表示，这样可以表示各种颜色。"),s("br"),t._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs6.png"}}),t._v("漫反射的表示")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs7.png"}}),t._v("漫反射系数")])],1)])])],1)]),t._v(" "),s("h3",{attrs:{id:"高光反射-specular"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#高光反射-specular"}},[t._v("#")]),t._v(" 高光反射(specular)")]),t._v(" "),s("p",[t._v("  比较光滑的物体的反射都接近镜面反射，会沿着镜面反射方向"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.213em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"R"}})],1)],1)],1)],1)],1)],1),t._v("有一个分布，当观察方向与镜面反射方向"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.213em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"R"}})],1)],1)],1)],1)],1)],1),t._v("接近的时候，能够看到高光。"),s("br"),t._v("\n  当观察方向和镜面反射方向接近的时候，其实就是法线方向和半程向量很接近。所谓半程向量，如果我有一个入射方向"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.083em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.101em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1)],1)],1),t._v("出射方向"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.028em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.008em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"v"}})],1)],1)],1)],1)],1)],1),t._v(",可以求的角平分线方向，之后对角平分线方向做归一化就得到了半程向量方向"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.01em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"h"}})],1)],1)],1)],1)],1)],1),t._v("。"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.01em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"h"}})],1)],1)],1)],1)],1)],1),t._v("和"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.05em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"n"}})],1)],1)],1)],1)],1)],1),t._v("接近一定程度上反映了"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.028em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.008em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"v"}})],1)],1)],1)],1)],1)],1),t._v("和"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.213em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"R"}})],1)],1)],1)],1)],1)],1),t._v("接近。Blinn-Phong模型做了这么一个假设，为了衡量能不能看到高光只要看"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.05em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"n"}})],1)],1)],1)],1)],1)],1),t._v("和"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.01em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"h"}})],1)],1)],1)],1)],1)],1),t._v("是否接近。"),s("br"),t._v("\n  如何衡量两个向量是否接近，很简单的办法就是点乘，如果两个向量比较接近那么结果就接近1，如果两个向量比较远，结果就接近0。这里镜面反射系数"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"k"}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"s"}})],1)],1)],1),t._v("通常认为就是一个白色的。Blinn-Phong模型主要关注的是是否能看到高光，有多少能量被吸收就被简化掉了，所以这里没有"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.05em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"n"}})],1)],1)],1)],1)],1)],1),t._v("和"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-TeXAtom",[s("mjx-mover",[s("mjx-over",{staticStyle:{"padding-bottom":"0.06em","padding-left":"0.083em","margin-bottom":"-0.516em"}},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"20D7"}})],1)],1),s("mjx-base",{staticStyle:{"padding-left":"0.101em"}},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"l"}})],1)],1)],1)],1)],1)],1),t._v("的点乘。"),s("br"),t._v("\n  之所以有个指数"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"P"}})],1)],1)],1),t._v("是因为，向量夹角余弦确实能够体现两个夹角是否接近，但是它容忍度太高了，比如当两个向量夹角在45°时，感觉已经离得很远了，但是两个夹角余弦仍然告诉我们它有个较大的值（值越大说明越近），仅仅用夹角余弦去生成高光的话会生成一个较大的高光这是不合理的。有了指数后，我们就可以认为只要夹角距离稍微远一点就不算作是高光了。实际操作中，指数"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"P"}})],1)],1)],1),t._v("大概会用到100到200的值。"),s("br"),t._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs8.png"}}),t._v("高光")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs9.png"}}),t._v("高光的表示")])],1)]),t._v(" "),s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs10.png"}}),t._v("指数P的由来")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs11.png"}}),t._v("高光案例")])],1)])])],1),t._v(" "),s("h3",{attrs:{id:"环境光-ambient"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境光-ambient"}},[t._v("#")]),t._v(" 环境光(ambient)")]),t._v(" "),s("p",[t._v("  在一些无法被直接光照照到的地方，理论上应该是完全看不到的也就是黑色，但是实际却是会有颜色的，这是因为有一些光线会被别的物体一直弹射，从四面八方打到任何的一个点上，所以无法被光直接照射的地方就接收到了来自环境的光。"),s("br"),t._v("\n  计算环境光照是一个非常复杂的事情，所以这里就做一个大胆的假设，任何一个点接收到来自环境的光永远都是相同的，光照强度就是"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"I"}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"a"}})],1)],1)],1),t._v("，环境光也有颜色，就拥有一个颜色系数"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"K"}})],1),s("mjx-mi",{staticClass:"mjx-i"},[s("mjx-c",{attrs:{c:"a"}})],1)],1)],1),t._v("，把这两项结合在一起，就近似的得到一个环境光照。"),s("br"),t._v("\n  在Blinn-Phong光照模型中：")],1),t._v(" "),s("ol",[s("li",[t._v("环境光照与直接光照方向没有关系。")]),t._v(" "),s("li",[t._v("环境光照与观测方向没有关系。")]),t._v(" "),s("li",[t._v("环境光照与法线也没有关系。")]),t._v(" "),s("li",[t._v("环境光照是一个常数。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs12.png",alt:"pic12",title:"环境光照"}})])]),t._v(" "),s("h3",{attrs:{id:"blinn-phong光照模型公式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blinn-phong光照模型公式"}},[t._v("#")]),t._v(" Blinn-Phong光照模型公式")]),t._v(" "),s("p",[t._v("  把环境光、漫反射、高光，三种不同的结果加起来，就得到了Blinn-Phong光照模型公式。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs13.png",alt:"pic13",title:"Blinn-Phong光照模型公式"}})]),t._v(" "),s("h2",{attrs:{id:"着色频率"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#着色频率"}},[t._v("#")]),t._v(" 着色频率")]),t._v(" "),s("p",[t._v("下图三个球，是完全相同的三个几何，为什么在着色后得到的结果各不相同呢？是因为着色频率造成的。")]),t._v(" "),s("ul",[s("li",[t._v("逐面着色，每个面着色一次。")]),t._v(" "),s("li",[t._v("逐顶点着色，每个顶点着色一次，顶点内部的颜色可以插值得出。")]),t._v(" "),s("li",[t._v("逐像素着色，每个像素着色一次，每个像素都有一个法线方向。\n  当几何的形状足够复杂的时候，就可以使用一些简单的着色从而得到更好的效果。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs14.png",alt:"pic14",title:"着色频率"}})])]),t._v(" "),s("h3",{attrs:{id:"逐三角着色-flat-shading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#逐三角着色-flat-shading"}},[t._v("#")]),t._v(" 逐三角着色(flat shading)")]),t._v(" "),s("ul",[s("li",[t._v("每个三角形都是一个平面，求出三角形法线，根据光照模型进行着色，三角形内不颜色一致。\n"),s("img",{attrs:{src:"/pic/games101/zhuose/zs15.png",alt:"pic15",title:"逐三角面着色"}})])]),t._v(" "),s("h3",{attrs:{id:"逐顶点着色-gouraud-shading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#逐顶点着色-gouraud-shading"}},[t._v("#")]),t._v(" 逐顶点着色(Gouraud shading)")]),t._v(" "),s("ul",[s("li",[t._v("求每个顶点的法线，然后着色。")]),t._v(" "),s("li",[t._v("内部颜色通过插值得出。\n"),s("img",{attrs:{src:"/pic/games101/zhuose/zs16.png",alt:"pic16",title:"逐顶点着色"}})])]),t._v(" "),s("h3",{attrs:{id:"逐像素着色-phong-shading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#逐像素着色-phong-shading"}},[t._v("#")]),t._v(" 逐像素着色(Phong shading)")]),t._v(" "),s("ul",[s("li",[t._v("每个像素都有一个法线，然后着色。")]),t._v(" "),s("li",[t._v("Phong shading和Blinn-Phong光照模型不是一回事。\n"),s("img",{attrs:{src:"/pic/games101/zhuose/zs17.png",alt:"pic17",title:"逐像素着色"}})])]),t._v(" "),s("h3",{attrs:{id:"逐顶点的法线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#逐顶点的法线"}},[t._v("#")]),t._v(" 逐顶点的法线")]),t._v(" "),s("p",[t._v("  任何一个顶点都和不同的三角形有关联，那么就认为这个顶点的法线是相邻面的法线求平均。但是有的三角形可能会很大，有的三角形可能会很小，所以这里是加权平均，则权就是三角形的面积。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs18.png",alt:"pic18",title:"逐顶点的法线"}})]),t._v(" "),s("h3",{attrs:{id:"逐像素的法线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#逐像素的法线"}},[t._v("#")]),t._v(" 逐像素的法线")]),t._v(" "),s("p",[t._v("  假如已经知道每个顶点的法线了，那么内部的法线使用重心坐标做插值，就可以得到两个顶点之间的所有法线了。重心坐标后面会提到。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs19.png",alt:"pic19",title:"逐像素的法线"}})]),t._v(" "),s("h2",{attrs:{id:"实时渲染管线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实时渲染管线"}},[t._v("#")]),t._v(" 实时渲染管线")]),t._v(" "),s("p",[t._v("  从场景到最终生成图像的过程叫做管线，表示的是一系列不同的操作。")]),t._v(" "),s("ul",[s("li",[t._v("顶点变换，投影")]),t._v(" "),s("li",[t._v("光栅化")]),t._v(" "),s("li",[t._v("着色\n"),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs20.png"}}),t._v("概览")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs21.png"}}),t._v("顶点变换")])],1)]),t._v(" "),s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs22.png"}}),t._v("光栅化")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs23.png"}}),t._v("深度缓存")])],1)]),t._v(" "),s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs24.png"}}),t._v("着色")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs25.png"}}),t._v("纹理映射")])],1)])])])]),t._v(" "),s("h3",{attrs:{id:"着色器-shader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#着色器-shader"}},[t._v("#")]),t._v(" 着色器(Shader)")]),t._v(" "),s("p",[t._v("  现代GPU渲染管线中有一部分是可编程的（顶点、像素），这部分的程序叫做着色器(Shader)，如：GLSL、HLSL。"),s("br"),t._v("\n  Shader是一个通用的程序，它只管一个顶点或一个像素。"),s("br"),t._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs26.png"}}),t._v("Shader案例")])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs27.png"}}),t._v("Shader案例")])],1)])])]),t._v(" "),s("h2",{attrs:{id:"纹理映射"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#纹理映射"}},[t._v("#")]),t._v(" 纹理映射")]),t._v(" "),s("p",[t._v("纹理映射的根本作用是定义任何一个点的不同属性。所谓纹理就是一张图，这张图可以蒙在任何一个物体的表面，这个过程就叫纹理映射。")]),t._v(" "),s("h3",{attrs:{id:"物体表面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#物体表面"}},[t._v("#")]),t._v(" 物体表面")]),t._v(" "),s("p",[t._v("  任何一个三维物体它的表面都是二维的。如下图地球仪，把地球仪的图展开，就是一个二维的图。"),s("br"),t._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs28.png"}})])],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs29.png"}})])],1)])])]),t._v(" "),s("h3",{attrs:{id:"纹理坐标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#纹理坐标"}},[t._v("#")]),t._v(" 纹理坐标")]),t._v(" "),s("p",[t._v("  纹理坐标系，通常会使用u,v来表示。uv的范围都在"),s("mjx-container",{staticClass:"MathJax",attrs:{jax:"CHTML"}},[s("mjx-math",{staticClass:" MJX-TEX"},[s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"["}})],1),s("mjx-mn",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"0"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:","}})],1),s("mjx-mn",{staticClass:"mjx-n",attrs:{space:"2"}},[s("mjx-c",{attrs:{c:"1"}})],1),s("mjx-mo",{staticClass:"mjx-n"},[s("mjx-c",{attrs:{c:"]"}})],1)],1)],1),t._v("之内。怎么知道uv是多少，这里认为已经知道了uv坐标的数据。"),s("br"),t._v(" "),s("table",[s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs30.png"}})]),t._v("纹理坐标")],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs31.png"}})]),t._v("纹理坐标")],1)]),t._v(" "),s("tr",[s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs32.png"}})]),t._v("纹理坐标")],1),t._v(" "),s("td",[s("center",[s("img",{attrs:{src:"/pic/games101/zhuose/zs33.png"}})]),t._v("纹理坐标")],1)])])],1),t._v(" "),s("h3",{attrs:{id:"重复使用纹理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重复使用纹理"}},[t._v("#")]),t._v(" 重复使用纹理")]),t._v(" "),s("p",[t._v("  纹理是可以重复使用的，不同的位置可以使用相同的纹理。如果一个纹理设计的比较好，那么这个纹理在重复使用的时候，纹理之间可以无缝连接。"),s("br"),t._v(" "),s("img",{attrs:{src:"/pic/games101/zhuose/zs34.png",alt:"pic34",title:"重复使用纹理"}})])])}),[],!1,null,null,null);a.default=i.exports}}]);